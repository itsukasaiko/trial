<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Edit Book</title>
  <link rel="stylesheet" href="css/styles.css">
</head>

<body>
  <div id="topside"></div>

  <header>
    <div class="container">
      <!--body title-->
      <div class="body_title">
        <p class="p1">Ebookstore Management - Edit</p>
      </div>
      <!--end of body title-->
    </div>

    <!--body navigation/directory-->
    <div class="directory">
      <ul>
        <li class="topbar"><img src="images/team-logo.png" class="logo" alt="logo"></li>

      </ul>
      <ul>
        <li><a href="index.html" class="navigation_text">Home</a></li>
        <li><a href="fiction.html" class="navigation_text">Fiction Book</a></li>
        <li><a href="nonfiction.html" class="navigation_text">Non-Fiction Book</a></li>
        <li><a href="add.html" class="navigation_text">Add</a></li>
      </ul>
    </div>
    <!--end of body navigation/directory-->
  </header>

  <div class="centercontainer_edit">
    <div id="forms">
      <b>Edit Book</b>
      <div class="edit_form">
        <form id="editBookForm">
          <label for="title">Title:</label><br>
          <input type="text" id="title" name="title"><br>

          <label for="author">Author:</label><br>
          <input type="text" id="author" name="author"><br>

          <label for="price">Price:</label><br>
          <input type="text" id="price" name="price"><br>

          <label for="description">Description:</label><br>
          <textarea id="description" name="description"></textarea><br>

          <label for="format">Format:</label><br>
          <input type="text" id="format" name="format"><br>

          <label for="publicationDate">Publication Date:</label><br>
          <input type="text" id="publicationDate" name="publicationDate"><br>

          <label for="isbn">ISBN:</label><br>
          <input type="text" id="isbn" name="isbn"><br>

          <label for="category">Category:</label><br>
          <input type="text" id="category" name="category"><br>

          <input type="submit" value="Submit">
        </form>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Get query parameters from the URL
        const urlParams = new URLSearchParams(window.location.search);

        // Set form field values based on query parameters
        document.getElementById("title").value = urlParams.get("title") || "";
        document.getElementById("author").value = urlParams.get("author") || "";
        document.getElementById("price").value = urlParams.get("price") || "";
        document.getElementById("description").value = urlParams.get("description") || "";
        document.getElementById("format").value = urlParams.get("format") || "";
        document.getElementById("publicationDate").value = urlParams.get("publicationDate") || "";
        document.getElementById("isbn").value = urlParams.get("isbn") || "";
        document.getElementById("category").value = urlParams.get("category") || "";

        // Handle form submission
        document.getElementById("editBookForm").addEventListener("submit", function (event) {
          event.preventDefault();

          // Get form field values
          var title = document.getElementById("title").value;
          var author = document.getElementById("author").value;
          var price = document.getElementById("price").value;
          var description = document.getElementById("description").value;
          var format = document.getElementById("format").value;
          var publicationDate = document.getElementById("publicationDate").value;
          var isbn = document.getElementById("isbn").value;
          var category = document.getElementById("category").value;

          // Update book information on the home page
          var updatedBookInfo = {
            title: title,
            author: author,
            price: price,
            description: description,
            format: format,
            publicationDate: publicationDate,
            isbn: isbn,
            category: category
          };
          // Log updated book data
          console.log("Updated book data:", updatedBookInfo);

          // Store updated book data in local storage
          localStorage.setItem("updatedBookData", JSON.stringify(updatedBookInfo));

          // Redirect to the home page
          window.location.href = "index.html";

        });
      });
    </script>

    <div class="bottom_footer">
      <p class="copyright_statement">
        <span class="text_left">
          Â©Copyright LOLOLOL. Students production.
        </span>

        <span class="text_right">
          <a href="#topside">
            TOP
          </a>
        </span>
      </p>
    </div>


  </div>
</body>

</html>